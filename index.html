<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>图片上传</title>
		<script src="https://www.unpkg.com/jquery@3.3.1/dist/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
		<!-- 引入样式 -->
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<!-- 引入组件库 -->
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	</head>
	<body>

		<div id="app">
			<el-button type="primary">
				<el-link href="https://www.baidu.com/" target="_blank">登录百度</el-link>
			</el-button>
			<el-divider></el-divider>
			<el-upload action="https://sp0.baidu.com/6_R1fD_bAAd3otqbppnN2DJv/Pic/upload?pid=super&app=skin&logid="
				list-type="picture-card" :on-preview="handlePictureCardPreview" :on-remove="handleRemove"
				:on-success="upsuccess" :with-credentials="true" multiple>
				<i class="el-icon-plus"></i>
			</el-upload>
			<el-dialog :visible.sync="dialogVisible">
				<img width="100%" :src="dialogImageUrl" alt="">
			</el-dialog>

			<el-divider></el-divider>
			<el-row>
				<el-col :span="8" v-for="(o, index) in fileList">
					<el-card :body-style="{ padding: '0px' }">
						<el-image :src="o" fit="cover"></el-image>
						<span style="font-size:10px">{{o}}</span>

					</el-card>
				</el-col>
			</el-row>
		</div>




	</body>

	<style type="text/css">
		.el-card__body {
			margin: 20px;
		}
	</style>


	<script>
		new Vue({
			el: "#app",
			data: {
				dialogImageUrl: '',
				dialogVisible: false,
				fileList: [],
			},
			beforeCreate() {


			},
			mounted() {},
			methods: {
				handleRemove(file, fileList) {
					console.log(file, fileList);
				},
				handlePictureCardPreview(file) {
					this.dialogImageUrl = file.url;
					this.dialogVisible = true;
				},
				upsuccess(response, file, fileList) {
					console.log(response)
					this.fileList.push(response.data.pic_water)
				}
			}
		})
	</script>
</html>
